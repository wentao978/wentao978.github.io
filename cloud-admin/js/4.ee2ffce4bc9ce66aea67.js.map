{"version":3,"sources":["webpack:///js/4.ee2ffce4bc9ce66aea67.js","webpack:///./src/views/example/form1.vue","webpack:///./src/api/article.js?be20","webpack:///./src/views/example/form1.vue?d333","webpack:///./src/views/example/form1.vue?d255","webpack:///./src/views/example/form1.vue?fc92","webpack:///form1.vue","webpack:///./src/api/remoteSearch.js"],"names":["webpackJsonp","268","module","exports","__webpack_require__","injectStyle","ssrContext","Component","310","getList","_fetch2","default","url","method","getArticle","Object","defineProperty","value","_fetch","obj","__esModule","333","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","347","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","postForm","rules","span","staticStyle","margin-bottom","prop","directives","name","rawName","title","length","expression","_v","label-width","label","options","userLIstOptions","placeholder","selectLabel","deselectLabel","track-by","internalSearch","on","search-change","getRemoteUserList","callback","$$v","author","slot","effect","content","placement","min-width","source_name","type","format","display_time","rows","autosize","content_short","_s","contentShortLength","staticRenderFns","359","locals","484","_validate","_article","_remoteSearch","components","data","_this","validateRequire","rule","$message","message","field","source_uri","image_uri","undefined","id","platforms","fetchSuccess","loading","platformsOptions","key","validator","validateURL","trigger","computed","created","fetchData","methods","_this2","then","response","catch","submitForm","_this3","parseInt","$refs","validate","valid","$notify","duration","status","draftForm","showClose","query","_this4","userSearch","items","map","v","488","params"],"mappings":"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","file":"js/4.ee2ffce4bc9ce66aea67.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(359)\n}\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(484),\n  /* template */\n  __webpack_require__(347),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-01956014\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getList = getList;\nexports.getArticle = getArticle;\n\nvar _fetch = __webpack_require__(103);\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getList() {\n  return (0, _fetch2.default)({\n    url: '/article/list',\n    method: 'get'\n  });\n}\n\nfunction getArticle() {\n  return (0, _fetch2.default)({\n    url: '/article/detail',\n    method: 'get'\n  });\n}\n\n/***/ }),\n\n/***/ 333:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(263)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".title-prompt[data-v-01956014]{position:absolute;right:0;font-size:12px;top:10px;color:#ff4949}.createPost-container[data-v-01956014]{position:relative}.createPost-container .createPost-main-container[data-v-01956014]{padding:40px 45px 20px 50px}.createPost-container .createPost-main-container .postInfo-container[data-v-01956014]{position:relative;margin-bottom:10px}.createPost-container .createPost-main-container .postInfo-container[data-v-01956014]:after{content:\\\"\\\";display:table;clear:both}.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-01956014]{float:left}.createPost-container .createPost-main-container .editor-container[data-v-01956014]{min-height:500px;margin:0 0 30px}.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-01956014]{text-align:right;margin-right:10px}.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-01956014]{display:inline-block}.createPost-container .word-counter[data-v-01956014]{width:40px;position:absolute;right:-10px;top:0}\", \"\", {\"version\":3,\"sources\":[\"D:/vue/music-admin/src/views/example/form1.vue\"],\"names\":[],\"mappings\":\"AACA,+BACE,kBAAmB,AACnB,QAAW,AACX,eAAgB,AAChB,SAAU,AACV,aAAe,CAChB,AACD,uCACE,iBAAmB,CACpB,AACD,kEACI,2BAA6B,CAChC,AACD,sFACM,kBAAmB,AACnB,kBAAoB,CACzB,AACD,4FACQ,WAAY,AACZ,cAAe,AACf,UAAY,CACnB,AACD,+GACQ,UAAY,CACnB,AACD,oFACM,iBAAkB,AAClB,eAAiB,CACtB,AACD,iHACQ,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,oIACU,oBAAsB,CAC/B,AACD,qDACI,WAAY,AACZ,kBAAmB,AACnB,YAAa,AACb,KAAS,CACZ\",\"file\":\"form1.vue\",\"sourcesContent\":[\"\\n.title-prompt[data-v-01956014] {\\n  position: absolute;\\n  right: 0px;\\n  font-size: 12px;\\n  top: 10px;\\n  color: #ff4949;\\n}\\n.createPost-container[data-v-01956014] {\\n  position: relative;\\n}\\n.createPost-container .createPost-main-container[data-v-01956014] {\\n    padding: 40px 45px 20px 50px;\\n}\\n.createPost-container .createPost-main-container .postInfo-container[data-v-01956014] {\\n      position: relative;\\n      margin-bottom: 10px;\\n}\\n.createPost-container .createPost-main-container .postInfo-container[data-v-01956014]:after {\\n        content: \\\"\\\";\\n        display: table;\\n        clear: both;\\n}\\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-01956014] {\\n        float: left;\\n}\\n.createPost-container .createPost-main-container .editor-container[data-v-01956014] {\\n      min-height: 500px;\\n      margin: 0 0 30px;\\n}\\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-01956014] {\\n        text-align: right;\\n        margin-right: 10px;\\n}\\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-01956014] {\\n          display: inline-block;\\n}\\n.createPost-container .word-counter[data-v-01956014] {\\n    width: 40px;\\n    position: absolute;\\n    right: -10px;\\n    top: 0px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 347:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"createPost-container\"\n  }, [_c('el-form', {\n    ref: \"postForm\",\n    staticClass: \"form-container\",\n    attrs: {\n      \"model\": _vm.postForm,\n      \"rules\": _vm.rules\n    }\n  }, [_c('div', {\n    staticClass: \"createPost-main-container\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 21\n    }\n  }, [_c('el-form-item', {\n    staticStyle: {\n      \"margin-bottom\": \"40px\"\n    },\n    attrs: {\n      \"prop\": \"title\"\n    }\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.postForm.title.length >= 26),\n      expression: \"postForm.title.length>=26\"\n    }],\n    staticClass: \"title-prompt\"\n  }, [_vm._v(\"app可能会显示不全\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"postInfo-container\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"postInfo-container-item\",\n    attrs: {\n      \"label-width\": \"45px\",\n      \"label\": \"作者:\"\n    }\n  }, [_c('multiselect', {\n    attrs: {\n      \"options\": _vm.userLIstOptions,\n      \"placeholder\": \"搜索用户\",\n      \"selectLabel\": \"选择\",\n      \"deselectLabel\": \"删除\",\n      \"track-by\": \"key\",\n      \"internalSearch\": false,\n      \"label\": \"key\"\n    },\n    on: {\n      \"search-change\": _vm.getRemoteUserList\n    },\n    model: {\n      value: (_vm.postForm.author),\n      callback: function($$v) {\n        _vm.postForm.author = $$v\n      },\n      expression: \"postForm.author\"\n    }\n  }, [_c('span', {\n    slot: \"noResult\"\n  }, [_vm._v(\"无结果\")])])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-tooltip', {\n    staticClass: \"item\",\n    attrs: {\n      \"effect\": \"dark\",\n      \"content\": \"将替换作者\",\n      \"placement\": \"top\"\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"postInfo-container-item\",\n    attrs: {\n      \"label-width\": \"50px\",\n      \"label\": \"来源:\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"min-width\": \"150px\"\n    },\n    attrs: {\n      \"placeholder\": \"将替换作者\"\n    },\n    model: {\n      value: (_vm.postForm.source_name),\n      callback: function($$v) {\n        _vm.postForm.source_name = $$v\n      },\n      expression: \"postForm.source_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"postInfo-container-item\",\n    attrs: {\n      \"label-width\": \"80px\",\n      \"label\": \"发布时间:\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"datetime\",\n      \"format\": \"yyyy-MM-dd HH:mm:ss\",\n      \"placeholder\": \"选择日期时间\"\n    },\n    model: {\n      value: (_vm.postForm.display_time),\n      callback: function($$v) {\n        _vm.postForm.display_time = $$v\n      },\n      expression: \"postForm.display_time\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"margin-bottom\": \"40px\"\n    },\n    attrs: {\n      \"label-width\": \"45px\",\n      \"label\": \"摘要:\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"article-textarea\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"rows\": 1,\n      \"autosize\": \"\",\n      \"placeholder\": \"请输入内容\"\n    },\n    model: {\n      value: (_vm.postForm.content_short),\n      callback: function($$v) {\n        _vm.postForm.content_short = $$v\n      },\n      expression: \"postForm.content_short\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.contentShortLength),\n      expression: \"contentShortLength\"\n    }],\n    staticClass: \"word-counter\"\n  }, [_vm._v(_vm._s(_vm.contentShortLength) + \"字\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"editor-container\"\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-bottom\": \"20px\"\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(333);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(264)(\"4123442e\", content, true);\n\n/***/ }),\n\n/***/ 484:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _validate = __webpack_require__(105);\n\nvar _article = __webpack_require__(310);\n\nvar _remoteSearch = __webpack_require__(488);\n\nexports.default = {\n  name: 'articleDetail',\n  components: {},\n  data: function data() {\n    var _this = this;\n\n    var validateRequire = function validateRequire(rule, value, callback) {\n      if (value === '') {\n        _this.$message({\n          message: rule.field + '\\u4E3A\\u5FC5\\u4F20\\u9879',\n          type: 'error'\n        });\n        callback(null);\n      } else {\n        callback();\n      }\n    };\n    var validateSourceUri = function validateSourceUri(rule, value, callback) {\n      if (value) {\n        if ((0, _validate.validateURL)(value)) {\n          callback();\n        } else {\n          _this.$message({\n            message: '外链url填写不正确',\n            type: 'error'\n          });\n          callback(null);\n        }\n      } else {\n        callback();\n      }\n    };\n    return {\n      postForm: {\n        title: '',\n        content: '',\n        content_short: '',\n        source_uri: '',\n        image_uri: '',\n        source_name: '',\n        display_time: undefined,\n        id: undefined,\n        platforms: ['a-platform']\n      },\n      fetchSuccess: true,\n      loading: false,\n      userLIstOptions: [],\n      platformsOptions: [{ key: 'a-platform', name: 'a-platform' }, { key: 'b-platform', name: 'b-platform' }, { key: 'c-platform', name: 'c-platform' }],\n      rules: {\n        image_uri: [{ validator: validateRequire }],\n        title: [{ validator: validateRequire }],\n        content: [{ validator: validateRequire }],\n        source_uri: [{ validator: validateSourceUri, trigger: 'blur' }]\n      }\n    };\n  },\n\n  computed: {\n    contentShortLength: function contentShortLength() {\n      return this.postForm.content_short.length;\n    }\n  },\n  created: function created() {\n    this.fetchData();\n  },\n\n  methods: {\n    fetchData: function fetchData() {\n      var _this2 = this;\n\n      (0, _article.getArticle)().then(function (response) {\n        _this2.postForm = response.data;\n      }).catch(function () {\n        _this2.fetchSuccess = false;\n      });\n    },\n    submitForm: function submitForm() {\n      var _this3 = this;\n\n      this.postForm.display_time = parseInt(this.display_time / 1000);\n      this.$refs.postForm.validate(function (valid) {\n        if (valid) {\n          _this3.loading = true;\n          _this3.$notify({\n            title: '成功',\n            message: '发布文章成功',\n            type: 'success',\n            duration: 2000\n          });\n          _this3.postForm.status = 'published';\n          _this3.loading = false;\n        } else {\n          return false;\n        }\n      });\n    },\n    draftForm: function draftForm() {\n      if (this.postForm.content.length === 0 || this.postForm.title.length === 0) {\n        this.$message({\n          message: '请填写必要的标题和内容',\n          type: 'warning'\n        });\n        return;\n      }\n      this.$message({\n        message: '保存成功',\n        type: 'success',\n        showClose: true,\n        duration: 1000\n      });\n      this.postForm.status = 'draft';\n    },\n    getRemoteUserList: function getRemoteUserList(query) {\n      var _this4 = this;\n\n      (0, _remoteSearch.userSearch)(query).then(function (response) {\n        if (!response.data.items) {\n          return;\n        }\n        _this4.userLIstOptions = response.data.items.map(function (v) {\n          return {\n            key: v.name\n          };\n        });\n      });\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 488:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userSearch = userSearch;\n\nvar _fetch = __webpack_require__(103);\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction userSearch(name) {\n  return (0, _fetch2.default)({\n    url: '/search/user',\n    method: 'get',\n    params: { name: name }\n  });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/4.ee2ffce4bc9ce66aea67.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.2.0.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01956014\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.12.0.4@vue-loader/lib/selector?type=styles&index=0!./form1.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.0.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.0.4@vue-loader/lib/selector?type=script&index=0!./form1.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01956014\\\"}!../../../node_modules/.12.0.4@vue-loader/lib/selector?type=template&index=0!./form1.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-01956014\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/example/form1.vue\n// module id = 268\n// module chunks = 4","import fetch from 'utils/fetch';\r\n\r\nexport function getList() {\r\n  return fetch({\r\n    url: '/article/list',\r\n    method: 'get'\r\n  });\r\n}\r\n\r\nexport function getArticle() {\r\n  return fetch({\r\n    url: '/article/detail',\r\n    method: 'get'\r\n  });\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/article.js","exports = module.exports = require(\"../../../node_modules/.0.28.0@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".title-prompt[data-v-01956014]{position:absolute;right:0;font-size:12px;top:10px;color:#ff4949}.createPost-container[data-v-01956014]{position:relative}.createPost-container .createPost-main-container[data-v-01956014]{padding:40px 45px 20px 50px}.createPost-container .createPost-main-container .postInfo-container[data-v-01956014]{position:relative;margin-bottom:10px}.createPost-container .createPost-main-container .postInfo-container[data-v-01956014]:after{content:\\\"\\\";display:table;clear:both}.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-01956014]{float:left}.createPost-container .createPost-main-container .editor-container[data-v-01956014]{min-height:500px;margin:0 0 30px}.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-01956014]{text-align:right;margin-right:10px}.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-01956014]{display:inline-block}.createPost-container .word-counter[data-v-01956014]{width:40px;position:absolute;right:-10px;top:0}\", \"\", {\"version\":3,\"sources\":[\"D:/vue/music-admin/src/views/example/form1.vue\"],\"names\":[],\"mappings\":\"AACA,+BACE,kBAAmB,AACnB,QAAW,AACX,eAAgB,AAChB,SAAU,AACV,aAAe,CAChB,AACD,uCACE,iBAAmB,CACpB,AACD,kEACI,2BAA6B,CAChC,AACD,sFACM,kBAAmB,AACnB,kBAAoB,CACzB,AACD,4FACQ,WAAY,AACZ,cAAe,AACf,UAAY,CACnB,AACD,+GACQ,UAAY,CACnB,AACD,oFACM,iBAAkB,AAClB,eAAiB,CACtB,AACD,iHACQ,iBAAkB,AAClB,iBAAmB,CAC1B,AACD,oIACU,oBAAsB,CAC/B,AACD,qDACI,WAAY,AACZ,kBAAmB,AACnB,YAAa,AACb,KAAS,CACZ\",\"file\":\"form1.vue\",\"sourcesContent\":[\"\\n.title-prompt[data-v-01956014] {\\n  position: absolute;\\n  right: 0px;\\n  font-size: 12px;\\n  top: 10px;\\n  color: #ff4949;\\n}\\n.createPost-container[data-v-01956014] {\\n  position: relative;\\n}\\n.createPost-container .createPost-main-container[data-v-01956014] {\\n    padding: 40px 45px 20px 50px;\\n}\\n.createPost-container .createPost-main-container .postInfo-container[data-v-01956014] {\\n      position: relative;\\n      margin-bottom: 10px;\\n}\\n.createPost-container .createPost-main-container .postInfo-container[data-v-01956014]:after {\\n        content: \\\"\\\";\\n        display: table;\\n        clear: both;\\n}\\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-01956014] {\\n        float: left;\\n}\\n.createPost-container .createPost-main-container .editor-container[data-v-01956014] {\\n      min-height: 500px;\\n      margin: 0 0 30px;\\n}\\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-01956014] {\\n        text-align: right;\\n        margin-right: 10px;\\n}\\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-01956014] {\\n          display: inline-block;\\n}\\n.createPost-container .word-counter[data-v-01956014] {\\n    width: 40px;\\n    position: absolute;\\n    right: -10px;\\n    top: 0px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-01956014\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.5@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/.12.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/example/form1.vue\n// module id = 333\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"createPost-container\"\n  }, [_c('el-form', {\n    ref: \"postForm\",\n    staticClass: \"form-container\",\n    attrs: {\n      \"model\": _vm.postForm,\n      \"rules\": _vm.rules\n    }\n  }, [_c('div', {\n    staticClass: \"createPost-main-container\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 21\n    }\n  }, [_c('el-form-item', {\n    staticStyle: {\n      \"margin-bottom\": \"40px\"\n    },\n    attrs: {\n      \"prop\": \"title\"\n    }\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.postForm.title.length >= 26),\n      expression: \"postForm.title.length>=26\"\n    }],\n    staticClass: \"title-prompt\"\n  }, [_vm._v(\"app可能会显示不全\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"postInfo-container\"\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"postInfo-container-item\",\n    attrs: {\n      \"label-width\": \"45px\",\n      \"label\": \"作者:\"\n    }\n  }, [_c('multiselect', {\n    attrs: {\n      \"options\": _vm.userLIstOptions,\n      \"placeholder\": \"搜索用户\",\n      \"selectLabel\": \"选择\",\n      \"deselectLabel\": \"删除\",\n      \"track-by\": \"key\",\n      \"internalSearch\": false,\n      \"label\": \"key\"\n    },\n    on: {\n      \"search-change\": _vm.getRemoteUserList\n    },\n    model: {\n      value: (_vm.postForm.author),\n      callback: function($$v) {\n        _vm.postForm.author = $$v\n      },\n      expression: \"postForm.author\"\n    }\n  }, [_c('span', {\n    slot: \"noResult\"\n  }, [_vm._v(\"无结果\")])])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-tooltip', {\n    staticClass: \"item\",\n    attrs: {\n      \"effect\": \"dark\",\n      \"content\": \"将替换作者\",\n      \"placement\": \"top\"\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"postInfo-container-item\",\n    attrs: {\n      \"label-width\": \"50px\",\n      \"label\": \"来源:\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"min-width\": \"150px\"\n    },\n    attrs: {\n      \"placeholder\": \"将替换作者\"\n    },\n    model: {\n      value: (_vm.postForm.source_name),\n      callback: function($$v) {\n        _vm.postForm.source_name = $$v\n      },\n      expression: \"postForm.source_name\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 8\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"postInfo-container-item\",\n    attrs: {\n      \"label-width\": \"80px\",\n      \"label\": \"发布时间:\"\n    }\n  }, [_c('el-date-picker', {\n    attrs: {\n      \"type\": \"datetime\",\n      \"format\": \"yyyy-MM-dd HH:mm:ss\",\n      \"placeholder\": \"选择日期时间\"\n    },\n    model: {\n      value: (_vm.postForm.display_time),\n      callback: function($$v) {\n        _vm.postForm.display_time = $$v\n      },\n      expression: \"postForm.display_time\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"margin-bottom\": \"40px\"\n    },\n    attrs: {\n      \"label-width\": \"45px\",\n      \"label\": \"摘要:\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"article-textarea\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"rows\": 1,\n      \"autosize\": \"\",\n      \"placeholder\": \"请输入内容\"\n    },\n    model: {\n      value: (_vm.postForm.content_short),\n      callback: function($$v) {\n        _vm.postForm.content_short = $$v\n      },\n      expression: \"postForm.content_short\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.contentShortLength),\n      expression: \"contentShortLength\"\n    }],\n    staticClass: \"word-counter\"\n  }, [_vm._v(_vm._s(_vm.contentShortLength) + \"字\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"editor-container\"\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-bottom\": \"20px\"\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-01956014\"}!./~/.12.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/example/form1.vue\n// module id = 347\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.0@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/.12.0.4@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01956014\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.6.0.5@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/.12.0.4@vue-loader/lib/selector.js?type=styles&index=0!./form1.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"4123442e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.0.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.2.0.5@vue-style-loader!./~/.0.28.0@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-01956014\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.5@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/.12.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/example/form1.vue\n// module id = 359\n// module chunks = 4","<template>\r\n  <div class=\"createPost-container\">\r\n    <el-form class=\"form-container\" :model=\"postForm\" :rules=\"rules\" ref=\"postForm\">\r\n\r\n      <!-- <Sticky :className=\"'sub-navbar '+postForm.status\">\r\n        <template v-if=\"fetchSuccess\">\r\n          <div style=\"display:inline-block\">\r\n\r\n            <el-dropdown trigger=\"click\">\r\n              <el-button>{{!postForm.comment_disabled?'评论已打开':'评论已关闭'}}<i class=\"el-icon-caret-bottom el-icon--right\"></i></el-button>\r\n              <el-dropdown-menu class=\"no-padding no-hover\" slot=\"dropdown\">\r\n                <el-dropdown-item>\r\n                  <el-radio-group style=\"padding: 10px;\" v-model=\"postForm.comment_disabled\">\r\n                    <el-radio :label=\"true\">关闭评论</el-radio>\r\n                    <el-radio :label=\"false\">打开评论</el-radio>\r\n                  </el-radio-group>\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n\r\n          <el-dropdown trigger=\"click\">\r\n            <el-button>\r\n              平台<i class=\"el-icon-caret-bottom el-icon--right\"></i>\r\n            </el-button>\r\n            <el-dropdown-menu class=\"no-border\" slot=\"dropdown\">\r\n              <el-checkbox-group v-model=\"postForm.platforms\" style=\"padding: 5px 15px;\">\r\n                <el-checkbox v-for=\"item in platformsOptions\" :label=\"item.key\" :key=\"item.key\">\r\n                  {{item.name}}\r\n                </el-checkbox>\r\n              </el-checkbox-group>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n\r\n          <el-dropdown trigger=\"click\">\r\n            <el-button>\r\n              外链<i class=\"el-icon-caret-bottom el-icon--right\"></i>\r\n            </el-button>\r\n            <el-dropdown-menu class=\"no-padding no-border\" style=\"width:300px\" slot=\"dropdown\">\r\n              <el-form-item label-width=\"0px\" style=\"margin-bottom: 0px\" prop=\"source_uri\">\r\n                <el-input placeholder=\"请输入内容\" v-model=\"postForm.source_uri\">\r\n                  <template slot=\"prepend\">填写url</template>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n\r\n          <el-button v-loading=\"loading\" style=\"margin-left: 10px;\" type=\"success\" @click=\"submitForm()\">发布\r\n          </el-button>\r\n          <el-button v-loading=\"loading\" type=\"warning\" @click=\"draftForm\">草稿</el-button>\r\n\r\n        </template>\r\n        <template v-else>\r\n          <el-tag>发送异常错误,刷新页面,或者联系程序员</el-tag>\r\n        </template>\r\n\r\n      </Sticky> -->\r\n\r\n      <div class=\"createPost-main-container\">\r\n        <el-row>\r\n          <el-col :span=\"21\">\r\n            <el-form-item style=\"margin-bottom: 40px;\" prop=\"title\">\r\n              <!-- <MDinput name=\"name\" v-model=\"postForm.title\" required :maxlength=\"100\">\r\n                标题\r\n              </MDinput> -->\r\n              <span v-show=\"postForm.title.length>=26\" class='title-prompt'>app可能会显示不全</span>\r\n            </el-form-item>\r\n\r\n            <div class=\"postInfo-container\">\r\n              <el-row>\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label-width=\"45px\" label=\"作者:\" class=\"postInfo-container-item\">\r\n                    <multiselect v-model=\"postForm.author\" :options=\"userLIstOptions\" @search-change=\"getRemoteUserList\" placeholder=\"搜索用户\" selectLabel=\"选择\"\r\n                      deselectLabel=\"删除\" track-by=\"key\" :internalSearch=\"false\" label=\"key\">\r\n                      <span slot='noResult'>无结果</span>\r\n                    </multiselect>\r\n                  </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"8\">\r\n                  <el-tooltip class=\"item\" effect=\"dark\" content=\"将替换作者\" placement=\"top\">\r\n                    <el-form-item label-width=\"50px\" label=\"来源:\" class=\"postInfo-container-item\">\r\n                      <el-input placeholder=\"将替换作者\" style='min-width:150px;' v-model=\"postForm.source_name\">\r\n                      </el-input>\r\n                    </el-form-item>\r\n                  </el-tooltip>\r\n                </el-col>\r\n\r\n                <el-col :span=\"8\">\r\n                  <el-form-item label-width=\"80px\" label=\"发布时间:\" class=\"postInfo-container-item\">\r\n                    <el-date-picker v-model=\"postForm.display_time\" type=\"datetime\" format=\"yyyy-MM-dd HH:mm:ss\" placeholder=\"选择日期时间\">\r\n                    </el-date-picker>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item style=\"margin-bottom: 40px;\" label-width=\"45px\" label=\"摘要:\">\r\n          <el-input type=\"textarea\" class=\"article-textarea\" :rows=\"1\" autosize placeholder=\"请输入内容\" v-model=\"postForm.content_short\">\r\n          </el-input>\r\n          <span class=\"word-counter\" v-show=\"contentShortLength\">{{contentShortLength}}字</span>\r\n        </el-form-item>\r\n\r\n        <div class=\"editor-container\">\r\n        </div>\r\n\r\n        <div style=\"margin-bottom: 20px;\">\r\n          <!-- <Upload v-model=\"postForm.image_uri\"></Upload> -->\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    // import Tinymce from 'components/Tinymce'\r\n    // import Upload from 'components/Upload/singleImage3'\r\n    // import MDinput from 'components/MDinput';\r\n    import { validateURL } from 'utils/validate';\r\n    import { getArticle } from 'api/article';\r\n    import { userSearch } from 'api/remoteSearch';\r\n\r\n    export default {\r\n      name: 'articleDetail',\r\n      components: {  },\r\n      data() {\r\n        const validateRequire = (rule, value, callback) => {\r\n          if (value === '') {\r\n            this.$message({\r\n              message: `${rule.field}为必传项`,\r\n              type: 'error'\r\n            });\r\n            callback(null)\r\n          } else {\r\n            callback()\r\n          }\r\n        };\r\n        const validateSourceUri = (rule, value, callback) => {\r\n          if (value) {\r\n            if (validateURL(value)) {\r\n              callback()\r\n            } else {\r\n              this.$message({\r\n                message: '外链url填写不正确',\r\n                type: 'error'\r\n              });\r\n              callback(null)\r\n            }\r\n          } else {\r\n            callback()\r\n          }\r\n        };\r\n        return {\r\n          postForm: {\r\n            title: '', // 文章题目\r\n            content: '', // 文章内容\r\n            content_short: '', // 文章摘要\r\n            source_uri: '', // 文章外链\r\n            image_uri: '', // 文章图片\r\n            source_name: '', // 文章外部作者\r\n            display_time: undefined, // 前台展示时间\r\n            id: undefined,\r\n            platforms: ['a-platform']\r\n          },\r\n          fetchSuccess: true,\r\n          loading: false,\r\n          userLIstOptions: [],\r\n          platformsOptions: [\r\n            { key: 'a-platform', name: 'a-platform' },\r\n            { key: 'b-platform', name: 'b-platform' },\r\n            { key: 'c-platform', name: 'c-platform' }\r\n          ],\r\n          rules: {\r\n            image_uri: [{ validator: validateRequire }],\r\n            title: [{ validator: validateRequire }],\r\n            content: [{ validator: validateRequire }],\r\n            source_uri: [{ validator: validateSourceUri, trigger: 'blur' }]\r\n          }\r\n        }\r\n      },\r\n      computed: {\r\n        contentShortLength() {\r\n          return this.postForm.content_short.length\r\n        }\r\n      },\r\n      created() {\r\n        this.fetchData();\r\n      },\r\n      methods: {\r\n        fetchData() {\r\n          getArticle().then(response => {\r\n            this.postForm = response.data;\r\n        }).catch( ()=> {\r\n            this.fetchSuccess = false;\r\n          });\r\n        },\r\n        submitForm() {\r\n          this.postForm.display_time = parseInt(this.display_time / 1000);\r\n          this.$refs.postForm.validate(valid => {\r\n            if (valid) {\r\n              this.loading = true;\r\n              this.$notify({\r\n                title: '成功',\r\n                message: '发布文章成功',\r\n                type: 'success',\r\n                duration: 2000\r\n              });\r\n              this.postForm.status = 'published';\r\n              this.loading = false;\r\n            } else {\r\n              return false;\r\n            }\r\n          });\r\n        },\r\n        draftForm() {\r\n          if (this.postForm.content.length === 0 || this.postForm.title.length === 0) {\r\n            this.$message({\r\n              message: '请填写必要的标题和内容',\r\n              type: 'warning'\r\n            });\r\n            return;\r\n          }\r\n          this.$message({\r\n            message: '保存成功',\r\n            type: 'success',\r\n            showClose: true,\r\n            duration: 1000\r\n          });\r\n          this.postForm.status = 'draft';\r\n        },\r\n        getRemoteUserList(query) {\r\n          userSearch(query).then(response => {\r\n            if (!response.data.items) {\r\n                return\r\n            }\r\n        this.userLIstOptions = response.data.items.map(v => ({\r\n              key: v.name\r\n            }));\r\n          })\r\n        }\r\n      }\r\n    }\r\n</script>\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n  @import \"src/styles/mixin.scss\";\r\n  .title-prompt{\r\n    position: absolute;\r\n    right: 0px;\r\n    font-size: 12px;\r\n    top:10px;\r\n    color:#ff4949;\r\n  }\r\n  .createPost-container {\r\n    position: relative;\r\n    .createPost-main-container {\r\n      padding: 40px 45px 20px 50px;\r\n      .postInfo-container {\r\n        position: relative;\r\n        @include clearfix;\r\n        margin-bottom: 10px;\r\n        .postInfo-container-item {\r\n          float: left;\r\n        }\r\n      }\r\n      .editor-container {\r\n        min-height: 500px;\r\n        margin: 0 0 30px;\r\n        .editor-upload-btn-container {\r\n            text-align: right;\r\n            margin-right: 10px;\r\n            .editor-upload-btn {\r\n                display: inline-block;\r\n            }\r\n        }\r\n      }\r\n    }\r\n    .word-counter {\r\n      width: 40px;\r\n      position: absolute;\r\n      right: -10px;\r\n      top: 0px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// form1.vue?cf2a7500","import fetch from 'utils/fetch';\r\n\r\nexport function userSearch(name) {\r\n  return fetch({\r\n    url: '/search/user',\r\n    method: 'get',\r\n    params: { name }\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/remoteSearch.js"],"sourceRoot":""}